import React from "react";

import img1 from "../../public/nojob.jpeg";
import img3 from "../../public/internship.jpeg";
import img4 from "../../public/indemand.jpeg";
import img5 from "../../public/degree.jpeg";
import img6 from "../../public/img6.jpeg";
import img7 from "../../public/img7.jpeg";
import img8 from "../../public/img8.jpeg";
import img9 from "../../public/img9.jpeg";
import img10 from "../../public/img10.jpeg";

const BlogsData = [
  {
    id: 1,
    title:
      "The Employability Crisis: Why 90% of Indian Engineers Aren't Job-Ready",
    description:
      "A detailed look at the systemic disconnect between outdated college curricula and modern industry demands, and the practical solutions needed to fix it.",
    image: img1,
  },
  {
    id: 2,
    title: "The 3-Month Shortcut: From Graduate to Job-Ready Engineer",
    description:
      "Explore a structured 3-month bootcamp model that integrates technical tools, professional development, and a guaranteed internship to bridge the gap.",
    image: img6,
  },
  {
    id: 3,
    title: "The New Diploma: Why Internships Are the Real Degree in 2025",
    description:
      "Employers now ask 'What projects have you worked on?' Learn why practical internship experience is the new standard for employability.",
    image: img3,
  },
  {
    id: 4,
    title: "Theory vs. Survival: Why Your College Degree Isn't Enough",
    description:
      "A harsh look at why college prepares you for exams, not for survival. Discover the practical, hands-on skills that employers *actually* demand.",
    image: img4,
  },
  {
    id: 5,
    title: "What to Learn in 2025: A Guide to In-Demand Skills",
    description:
      "A data-driven look at the most in-demand technical skills for Civil, Mechanical, and IT (like Revit, Python, and AWS) and the soft skills that multiply your hiring chances.",
    image: img5,
  },
  {
    id: 6,
    title: "The 3-Step Formula for Choosing the Right Skills",
    description:
      "Stop learning random skills. Learn 'skill layering' and follow our 3-step formula (Market Demand, Longevity, ROI) to build a valuable career stack.",
    image: img6,
  },
  {
    id: 7,
    title: "The Graduate Trap: Why 52% of Indian Students Aren't Employable",
    description:
      "The India Skills Report 2025 reveals a harsh truth. Learn why the education system produces 'examinees' instead of 'employees' and what to do about it.",
    image: img7,
  },
  {
    id: 8,
    title: "Hyderabad's Silent Revolution: Becoming India’s Skill Capital",
    description:
      "Discover why Hyderabad is emerging as India's new hub for practical education, driven by 400+ EdTech startups and a government focus on job-ready training.",
    image: img8,
  },
  {
    id: 9,
    title: "The 90-Day Model: Why Short Bootcamps Are Replacing Degrees",
    description:
      "Is a 4-year degree still worth it? We compare the cost, speed, and ROI of traditional education versus the 90-day bootcamp model that employers now prefer.",
    image: img9,
  },
  {
    id: 10,
    title: "The 90-Day Blueprint: From Zero to Job-Ready",
    description:
      "A step-by-step look at the Cheatcamp success blueprint: Month 1 (Core Tools), Month 2 (Soft Skills), and Month 3 (Guaranteed Internship & Portfolio).",
    image: img10,
  },
];

const BlogsPage = () => {
  return (
    <div className="container mt-10 mx-auto px-4">
      <h1 className="font-primary text-primary mb-6 text-5xl text-center">
        BLOGS
      </h1>

      <div className="p-3 grid gap-8 md:grid-cols-3">
        {BlogsData.map((data) => (
          <div
            key={data.id}
            className="relative z-10 w-full max-w-[360px] h-[420px] p-4
                       border border-black rounded-sm shadow-sm
                       hover:shadow-lg hover:border-primary hover:-translate-y-2 transition-transform duration-300
                       overflow-hidden flex flex-col"
          >
            <div className="w-full h-45 overflow-hidden rounded-sm shrink-0">
              <img
                src={data.image}
                alt=""
                className="w-full h-full object-cover object-center"
              />
            </div>

            <div className="mt-3 flex-1 flex flex-col">
              <h1 className="font-primary text-primary font-bold text-base md:text-lg">
                {data.title}
              </h1>

              <p className="font-teritiary mt-2 line-clamp-3 text-sm text-justify">
                {data.description}
              </p>

              <div className="mt-4">
                <button className="bg-primary font-primary hover:scale-105 transition duration-300 text-white font-bold px-4 py-2 rounded-sm">
                  Read More
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

export default BlogsPage;

-----------------------------------------------

import React, { useEffect, useState } from 'react'
import { useParams, Link } from 'react-router-dom'
import { client, urlFor } from '../services/sanityClientFALLBACK'
import PortableText from 'react-portable-text'

const BlogDetailPage = () => {
  const { slug } = useParams()
  const [blog, setBlog] = useState(null)
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    client
      .fetch(`*[_type == "post" && slug.current == $slug][0] {
        _id,
        title,
        slug,
        author->{name},
        mainImage,
        publishedAt,
        body,
        categories[]->{title}
      }`, { slug })
      .then((data) => {
        setBlog(data)
        setLoading(false)
      })
      .catch((err) => {
        console.error('Error fetching blog:', err)
        setLoading(false)
      })
  }, [slug])

  if (loading) {
    return <div style={{ padding: '2rem', textAlign: 'center' }}>Loading...</div>
  }

  if (!blog) {
    return <div style={{ padding: '2rem', textAlign: 'center' }}>Blog not found!</div>
  }

  return (
    <div style={{ padding: '2rem', maxWidth: '800px', margin: '0 auto' }}>
      {/* Back Button */}
      <Link to="/blogs" style={{ color: '#007bff', textDecoration: 'none', marginBottom: '1rem', display: 'inline-block' }}>
        ← Back to Blogs
      </Link>

      {/* Main Image */}
      {blog.mainImage && (
        <img 
          src={urlFor(blog.mainImage).width(800).url()} 
          alt={blog.title}
          style={{ width: '100%', height: '400px', objectFit: 'cover', borderRadius: '8px', marginBottom: '2rem' }}
        />
      )}

      {/* Title */}
      <h1 style={{ fontSize: '2.5rem', marginBottom: '1rem' }}>{blog.title}</h1>

      {/* Meta Info */}
      <div style={{ color: '#666', marginBottom: '2rem', fontSize: '1rem' }}>
        <span>By {blog.author?.name || 'Anonymous'}</span>
        <span style={{ margin: '0 0.5rem' }}>•</span>
        <span>{new Date(blog.publishedAt).toLocaleDateString()}</span>
        {blog.categories && blog.categories.length > 0 && (
          <>
            <span style={{ margin: '0 0.5rem' }}>•</span>
            <span>{blog.categories.map(cat => cat.title).join(', ')}</span>
          </>
        )}
      </div>

      {/* Blog Content */}
      <div style={{ lineHeight: '1.8', fontSize: '1.1rem' }}>
        <PortableText
          content={blog.body}
          serializers={{
            h1: (props) => <h1 style={{ fontSize: '2rem', marginTop: '2rem' }} {...props} />,
            h2: (props) => <h2 style={{ fontSize: '1.5rem', marginTop: '1.5rem' }} {...props} />,
            li: ({ children }) => <li style={{ marginLeft: '2rem' }}>{children}</li>,
          }}
        />
      </div>
    </div>
  )
}

export default BlogDetailPage